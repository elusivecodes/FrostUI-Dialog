{"version":3,"names":["Dialog","constructor","options","this","_options","$","_extend","defaults","_render","appendTo","append","_node","document","body","_modal","Modal","init","backdrop","show","addEventOnce","remove","close","hide","content","title","buttons","size","closeBtn","classes","btn","btnClose","btnPrimary","btnSecondary","modal","modalBody","modalContent","modalDialog","modalFooter","modalHeader","modalLg","modalSm","modalTitle","modalXl","lang","cancel","ok","prototype","create","class","attributes","tabindex","role","addClass","text","type","addEvent","_isString","setText","length","buttonData","button","style","callback"],"sources":["../src/dialog.js","../src/index.js","../src/prototype/render.js","../src/alert.js","../src/confirm.js"],"sourcesContent":["import $ from '@fr0st/query';\nimport { Modal } from '@fr0st/ui';\n\n/**\n * Dialog Class\n * @class\n */\nexport default class Dialog {\n    /**\n     * New Dialog constructor.\n     * @param {object} [options] The options to create the Dialog with.\n     */\n    constructor(options = {}) {\n        this._options = $._extend(\n            {},\n            this.constructor.defaults,\n            options,\n        );\n\n        this._render();\n\n        if (this._options.appendTo) {\n            $.append(this._options.appendTo, this._node);\n        } else {\n            $.append(document.body, this._node);\n        }\n\n        this._modal = Modal.init(this._node, {\n            backdrop: this._options.backdrop,\n            show: true,\n        });\n\n        $.addEventOnce(this._node, 'hidden.ui.modal', () => {\n            $.remove(this._node);\n\n            this._node = null;\n            this._modal = null;\n        });\n    }\n\n    /**\n     * Close the Dialog.\n     */\n    close() {\n        this._modal.hide();\n    }\n};\n","import { alert } from './alert.js';\nimport { confirm } from './confirm.js';\nimport Dialog from './dialog.js';\nimport { _render } from './prototype/render.js';\n\n// Dialog default options\nDialog.defaults = {\n    content: '',\n    title: null,\n    buttons: [],\n    size: null,\n    backdrop: 'static',\n    closeBtn: true,\n    appendTo: null,\n};\n\n// Dialog classes\nDialog.classes = {\n    btn: 'btn ripple mb-0',\n    btnClose: 'btn-close',\n    btnPrimary: 'btn-primary',\n    btnSecondary: 'btn-secondary',\n    modal: 'modal',\n    modalBody: 'modal-body',\n    modalContent: 'modal-content',\n    modalDialog: 'modal-dialog',\n    modalFooter: 'modal-footer',\n    modalHeader: 'modal-header',\n    modalLg: 'modal-lg',\n    modalSm: 'modal-sm',\n    modalTitle: 'modal-title',\n    modalXl: 'modal-xl',\n};\n\n// Dialog language\nDialog.lang = {\n    cancel: 'Cancel',\n    close: 'Close',\n    ok: 'OK',\n};\n\n// Dialog prototype\nconst proto = Dialog.prototype;\n\nproto._render = _render;\n\nexport {\n    alert,\n    confirm,\n    Dialog,\n};\n","import $ from '@fr0st/query';\n\n/**\n * Render the Modal.\n */\nexport function _render() {\n    this._node = $.create('div', {\n        class: this.constructor.classes.modal,\n        attributes: {\n            'tabindex': -1,\n            'role': 'dialog',\n            'aria-modal': true,\n        },\n    });\n\n    const modalDialog = $.create('div', {\n        class: this.constructor.classes.modalDialog,\n    });\n\n    switch (this._options.size) {\n        case 'sm':\n            $.addClass(modalDialog, this.constructor.classes.modalSm);\n            break;\n        case 'lg':\n            $.addClass(modalDialog, this.constructor.classes.modalLg);\n            break;\n        case 'xl':\n            $.addClass(modalDialog, this.constructor.classes.modalXl);\n            break;\n    }\n\n    $.append(this._node, modalDialog);\n\n    const modalContent = $.create('div', {\n        class: this.constructor.classes.modalContent,\n    });\n\n    $.append(modalDialog, modalContent);\n\n    if (this._options.title || this._options.closeBtn) {\n        const modalHeader = $.create('div', {\n            class: this.constructor.classes.modalHeader,\n        });\n\n        $.append(modalContent, modalHeader);\n\n        const modalTitle = $.create('h6', {\n            class: this.constructor.classes.modalTitle,\n            text: this._options.title,\n        });\n\n        $.append(modalHeader, modalTitle);\n\n        if (this._options.closeBtn) {\n            const closeBtn = $.create('button', {\n                class: this.constructor.classes.btnClose,\n                attributes: {\n                    'type': 'button',\n                    'aria-label': this.constructor.lang.close,\n                },\n            });\n\n            $.addEvent(closeBtn, 'click.ui.dialog', () => {\n                this.close();\n            });\n\n            $.append(modalHeader, closeBtn);\n        }\n    }\n\n    if (this._options.content) {\n        const modalBody = $.create('div', {\n            class: this.constructor.classes.modalBody,\n        });\n\n        if ($._isString(this._options.content)) {\n            $.setText(modalBody, this._options.content);\n        } else {\n            $.append(modalBody, this._options.content);\n        }\n\n        $.append(modalContent, modalBody);\n    }\n\n    if (this._options.buttons.length) {\n        const modalFooter = $.create('div', {\n            class: this.constructor.classes.modalFooter,\n        });\n\n        $.append(modalContent, modalFooter);\n\n        for (const buttonData of this._options.buttons) {\n            const button = $.create('button', {\n                class: [this.constructor.classes.btn, buttonData.style],\n                text: buttonData.text,\n                attributes: {\n                    type: 'button',\n                },\n            });\n\n            $.addEvent(button, 'click.ui.dialog', () => {\n                if (buttonData.callback) {\n                    buttonData.callback();\n                }\n\n                this.close();\n            });\n\n            $.append(modalFooter, button);\n        }\n    }\n};\n","import Dialog from './dialog.js';\n\n/**\n * Render an alert Dialog.\n * @param {string|array|Node|HTMLElement|DocumentFragment|NodeList|HTMLCollection|QuerySet} [content] The alert content.\n * @param {function} [callback] The callback to execute when the alert is closed.\n * @param {object} [options] Options for rendering the alert.\n * @return {Dialog} The alert Dialog.\n */\nexport function alert(content = '', callback = () => { }, options = {}) {\n    return new Dialog({\n        content,\n        buttons: [\n            {\n                text: Dialog.lang.ok,\n                style: Dialog.classes.btnPrimary,\n                callback,\n            },\n        ],\n        ...options,\n    });\n};\n","import Dialog from './dialog.js';\n\n/**\n * Render a confirm Dialog.\n * @param {string|array|Node|HTMLElement|DocumentFragment|NodeList|HTMLCollection|QuerySet} [content] The confirm dialog content.\n * @param {function} [callback] The callback to execute when the confirm dialog is closed.\n * @param {object} [options] Options for rendering the alert.\n * @return {Dialog} The confirm Dialog.\n */\nexport function confirm(content = '', callback = () => { }, options = {}) {\n    return new Dialog({\n        content,\n        buttons: [\n            {\n                text: Dialog.lang.cancel,\n                style: Dialog.classes.btnSecondary,\n                callback: () => callback(false),\n            },\n            {\n                text: Dialog.lang.ok,\n                style: Dialog.classes.btnPrimary,\n                callback: () => callback(true),\n            },\n        ],\n        ...options,\n    });\n};\n"],"mappings":"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"}