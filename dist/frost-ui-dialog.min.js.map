{"version":3,"names":["Dialog","constructor","options","this","_options","$","_extend","defaults","_render","appendTo","append","_node","document","body","_modal","Modal","init","backdrop","show","addEventOnce","remove","close","hide","content","title","buttons","size","centerVertical","closeBtn","classes","btn","btnClose","btnPrimary","btnSecondary","modal","modalBody","modalContent","modalDialog","modalDialogCentered","modalFooter","modalHeader","modalLg","modalSm","modalTitle","modalXl","lang","cancel","ok","prototype","create","class","attributes","tabindex","role","addClass","text","type","addEvent","_isString","setText","length","buttonData","button","style","callback"],"sources":["../src/dialog.js","../src/index.js","../src/prototype/render.js","../src/alert.js","../src/confirm.js"],"sourcesContent":["import $ from '@fr0st/query';\nimport { Modal } from '@fr0st/ui';\n\n/**\n * Dialog Class\n * @class\n */\nexport default class Dialog {\n    /**\n     * New Dialog constructor.\n     * @param {object} [options] The options to create the Dialog with.\n     */\n    constructor(options = {}) {\n        this._options = $._extend(\n            {},\n            this.constructor.defaults,\n            options,\n        );\n\n        this._render();\n\n        if (this._options.appendTo) {\n            $.append(this._options.appendTo, this._node);\n        } else {\n            $.append(document.body, this._node);\n        }\n\n        this._modal = Modal.init(this._node, {\n            backdrop: this._options.backdrop,\n            show: true,\n        });\n\n        $.addEventOnce(this._node, 'hidden.ui.modal', () => {\n            $.remove(this._node);\n\n            this._node = null;\n            this._modal = null;\n        });\n    }\n\n    /**\n     * Close the Dialog.\n     */\n    close() {\n        this._modal.hide();\n    }\n};\n","import { alert } from './alert.js';\nimport { confirm } from './confirm.js';\nimport Dialog from './dialog.js';\nimport { _render } from './prototype/render.js';\n\n// Dialog default options\nDialog.defaults = {\n    content: '',\n    title: null,\n    buttons: [],\n    size: null,\n    backdrop: 'static',\n    centerVertical: false,\n    closeBtn: true,\n    appendTo: null,\n};\n\n// Dialog classes\nDialog.classes = {\n    btn: 'btn ripple mb-0',\n    btnClose: 'btn-close',\n    btnPrimary: 'btn-primary',\n    btnSecondary: 'btn-secondary',\n    modal: 'modal',\n    modalBody: 'modal-body',\n    modalContent: 'modal-content',\n    modalDialog: 'modal-dialog',\n    modalDialogCentered: 'modal-dialog-centered',\n    modalFooter: 'modal-footer',\n    modalHeader: 'modal-header',\n    modalLg: 'modal-lg',\n    modalSm: 'modal-sm',\n    modalTitle: 'modal-title',\n    modalXl: 'modal-xl',\n};\n\n// Dialog language\nDialog.lang = {\n    cancel: 'Cancel',\n    close: 'Close',\n    ok: 'OK',\n};\n\n// Dialog prototype\nconst proto = Dialog.prototype;\n\nproto._render = _render;\n\nexport {\n    alert,\n    confirm,\n    Dialog,\n};\n","import $ from '@fr0st/query';\n\n/**\n * Render the Modal.\n */\nexport function _render() {\n    this._node = $.create('div', {\n        class: this.constructor.classes.modal,\n        attributes: {\n            'tabindex': -1,\n            'role': 'dialog',\n            'aria-modal': true,\n        },\n    });\n\n    const modalDialog = $.create('div', {\n        class: this.constructor.classes.modalDialog,\n    });\n\n    switch (this._options.size) {\n        case 'sm':\n            $.addClass(modalDialog, this.constructor.classes.modalSm);\n            break;\n        case 'lg':\n            $.addClass(modalDialog, this.constructor.classes.modalLg);\n            break;\n        case 'xl':\n            $.addClass(modalDialog, this.constructor.classes.modalXl);\n            break;\n    }\n\n    if (this._options.centerVertical) {\n        $.addClass(modalDialog, this.constructor.classes.modalDialogCentered);\n    }\n\n    $.append(this._node, modalDialog);\n\n    const modalContent = $.create('div', {\n        class: this.constructor.classes.modalContent,\n    });\n\n    $.append(modalDialog, modalContent);\n\n    if (this._options.title || this._options.closeBtn) {\n        const modalHeader = $.create('div', {\n            class: this.constructor.classes.modalHeader,\n        });\n\n        $.append(modalContent, modalHeader);\n\n        const modalTitle = $.create('h6', {\n            class: this.constructor.classes.modalTitle,\n            text: this._options.title,\n        });\n\n        $.append(modalHeader, modalTitle);\n\n        if (this._options.closeBtn) {\n            const closeBtn = $.create('button', {\n                class: this.constructor.classes.btnClose,\n                attributes: {\n                    'type': 'button',\n                    'aria-label': this.constructor.lang.close,\n                },\n            });\n\n            $.addEvent(closeBtn, 'click.ui.dialog', () => {\n                this.close();\n            });\n\n            $.append(modalHeader, closeBtn);\n        }\n    }\n\n    if (this._options.content) {\n        const modalBody = $.create('div', {\n            class: this.constructor.classes.modalBody,\n        });\n\n        if ($._isString(this._options.content)) {\n            $.setText(modalBody, this._options.content);\n        } else {\n            $.append(modalBody, this._options.content);\n        }\n\n        $.append(modalContent, modalBody);\n    }\n\n    if (this._options.buttons.length) {\n        const modalFooter = $.create('div', {\n            class: this.constructor.classes.modalFooter,\n        });\n\n        $.append(modalContent, modalFooter);\n\n        for (const buttonData of this._options.buttons) {\n            const button = $.create('button', {\n                class: [this.constructor.classes.btn, buttonData.style],\n                text: buttonData.text,\n                attributes: {\n                    type: 'button',\n                },\n            });\n\n            $.addEvent(button, 'click.ui.dialog', () => {\n                if (buttonData.callback) {\n                    buttonData.callback();\n                }\n\n                this.close();\n            });\n\n            $.append(modalFooter, button);\n        }\n    }\n};\n","import Dialog from './dialog.js';\n\n/**\n * Render an alert Dialog.\n * @param {string|array|Node|HTMLElement|DocumentFragment|NodeList|HTMLCollection|QuerySet} [content] The alert content.\n * @param {function} [callback] The callback to execute when the alert is closed.\n * @param {object} [options] Options for rendering the alert.\n * @return {Dialog} The alert Dialog.\n */\nexport function alert(content = '', callback = () => { }, options = {}) {\n    return new Dialog({\n        content,\n        buttons: [\n            {\n                text: Dialog.lang.ok,\n                style: Dialog.classes.btnPrimary,\n                callback,\n            },\n        ],\n        ...options,\n    });\n};\n","import Dialog from './dialog.js';\n\n/**\n * Render a confirm Dialog.\n * @param {string|array|Node|HTMLElement|DocumentFragment|NodeList|HTMLCollection|QuerySet} [content] The confirm dialog content.\n * @param {function} [callback] The callback to execute when the confirm dialog is closed.\n * @param {object} [options] Options for rendering the alert.\n * @return {Dialog} The confirm Dialog.\n */\nexport function confirm(content = '', callback = () => { }, options = {}) {\n    return new Dialog({\n        content,\n        buttons: [\n            {\n                text: Dialog.lang.cancel,\n                style: Dialog.classes.btnSecondary,\n                callback: () => callback(false),\n            },\n            {\n                text: Dialog.lang.ok,\n                style: Dialog.classes.btnPrimary,\n                callback: () => callback(true),\n            },\n        ],\n        ...options,\n    });\n};\n"],"mappings":"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"}